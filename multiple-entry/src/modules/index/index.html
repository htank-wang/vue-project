<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>index page</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'>
  <script src="<%= htmlWebpackPlugin.options.staticPath %>static/js/zepto/zepto.min.js"></script>
</head>
<script>
  ;
  (function (win) {
    var doc = win.document;
    var docEl = doc.documentElement;
    var tid;

    function refreshRem() {
      var width = docEl.getBoundingClientRect().width;
      if (width > 540) { // 最大宽度
        width = 540;
      }
      var rem = width / 10; // 将屏幕宽度分成10份， 1份为1rem
      docEl.style.fontSize = rem + 'px';
    }

    win.addEventListener('resize', function () {
      clearTimeout(tid);
      tid = setTimeout(refreshRem, 300);
      console.log("rem resize")
    }, false);
    win.addEventListener('pageshow', function (e) {
      if (e.persisted) {
        clearTimeout(tid);
        tid = setTimeout(refreshRem, 300);
      }
    }, false);

    refreshRem();

  })(window);
</script>
<body>
<div id="app"></div>
<!-- built files will be auto injected -->
</body>
</html>
